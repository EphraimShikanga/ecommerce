import{P as C,c as S}from"./createLucideIcon-DJvDazA0.js";import{i as L,u as w}from"./index-DW9eo4Kt.js";import{i as E}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-DA7_AxF1.js";import{t as f,c as A,o as I,C as q,a as B,d as m,E as P,g as k,R as M,a9 as R,u,b as g,e as h,w as _,r as y,m as b}from"./index-Bxg717nH.js";function p(a,r){return a?r?(a.src!==r&&(a.src=r),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function x(a,{referrerPolicy:r,crossOrigin:s}={}){const t=f(!1),o=f(null),i=A(()=>t.value?(!o.value&&L&&(o.value=new window.Image),o.value):null),l=f(p(i.value,a.value)),d=n=>()=>{t.value&&(l.value=n)};return I(()=>{t.value=!0,q(n=>{const e=i.value;if(!e)return;l.value=p(e,a.value);const c=d("loaded"),v=d("error");e.addEventListener("load",c),e.addEventListener("error",v),r?.value&&(e.referrerPolicy=r.value),typeof s?.value=="string"&&(e.crossOrigin=s.value),n(()=>{e.removeEventListener("load",c),e.removeEventListener("error",v)})})}),B(()=>{t.value=!1}),l}var O=m({__name:"AvatarImage",props:{src:{type:String,required:!0},referrerPolicy:{type:null,required:!1},crossOrigin:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"img"}},emits:["loadingStatusChange"],setup(a,{emit:r}){const s=a,t=r,{src:o,referrerPolicy:i,crossOrigin:l}=P(s);w();const d=E(),n=x(o,{referrerPolicy:i,crossOrigin:l});return k(n,e=>{t("loadingStatusChange",e),e!=="idle"&&(d.imageLoadingStatus.value=e)},{immediate:!0}),(e,c)=>M((h(),g(u(C),{role:"img","as-child":e.asChild,as:e.as,src:u(o),"referrer-policy":u(i)},{default:_(()=>[y(e.$slots,"default")]),_:3},8,["as-child","as","src","referrer-policy"])),[[R,u(n)==="loaded"]])}}),$=O;const U=S("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),W=m({__name:"AvatarImage",props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{}},setup(a){const r=a;return(s,t)=>(h(),g(u($),b({"data-slot":"avatar-image"},r,{class:"aspect-square size-full"}),{default:_(()=>[y(s.$slots,"default")]),_:3},16))}});export{U as B,W as _};
